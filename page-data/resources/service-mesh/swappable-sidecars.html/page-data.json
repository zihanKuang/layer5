{"componentChunkName":"component---src-templates-resource-single-js","path":"/resources/service-mesh/swappable-sidecars.html","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Swappable Sidecars\",\n  \"thumbnail\": \"./figure1.webp\",\n  \"darkthumbnail\": \"./figure1.webp\",\n  \"category\": \"Service Mesh\",\n  \"date\": \"2021-10-17 10:30:05 -0530\",\n  \"type\": \"Article\",\n  \"tags\": [\"Service Mesh\"],\n  \"published\": true,\n  \"resource\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(ResourcesWrapper, {\n    mdxType: \"ResourcesWrapper\"\n  }, mdx(\"div\", {\n    className: \"intro\"\n  }, mdx(\"p\", null, \"Learn more about WebAssembly's use within service mesh data planes in \", mdx(Link, {\n    className: \"blog\",\n    to: \"/learn/service-mesh-books/the-enterprise-path-to-service-mesh-architectures-2nd-edition\",\n    mdxType: \"Link\"\n  }, \"The Enterprise Path to Service Mesh Archictures (2nd Edition)\"), \" -  free book and excellent resource for anyone looking to understand WASM filters, Lua scripts, and other options available for extending the data plane.\")), mdx(\"p\", null, \"One of the most significant\\xA0considerations to make when establishing a service mesh is the proxy's functionality. From the standpoint of a developer, a proxy's cloud native integrations (e.g., with OpenTelemetry / OpenTracing, Prometheus, and so on) are extremely important. Surprisingly, a developer may be uninterested in the APIs of a proxy. The control plane for the service mesh is the point of control for managing proxy settings. A developer, however, will be interested in the APIs of a management plane. Protocol support is at the top of the developers' wish list for proxies. Protocol considerations can be divided into two categories:\"), mdx(\"ul\", null, mdx(\"li\", null, \"TCP, UDP, HTTP: Network team-centric consideration in which efficiency, performance, offload, and load balancing algorithm support are evaluated. Support for HTTP2 often takes top billing.\"), mdx(\"li\", null, \"gRPC, NATS, Kafka: A developer-centric consideration in which the top item on the list is application-level protocols, specifically those commonly used in modern distributed application designs.\")), mdx(\"p\", null, \"The reality is that selecting the perfect proxy involves more than protocol support. Your proxy should meet all key criteria:\"), mdx(\"ul\", null, mdx(\"li\", null, \"High performance and low latency\"), mdx(\"li\", null, \"High scalability and small memory footprint\"), mdx(\"li\", null, \"Deep observability at all layers of the network stack\"), mdx(\"li\", null, \"Programmatic configuration and ecosystem integration\"), mdx(\"li\", null, \"Thorough documentation to facilitate an understanding of expected proxy behavior\")), mdx(\"p\", null, \"Envoy is used as a service proxy by a variety of service meshes. Within Istio, Envoy is the default service proxy. Using Envoy\\u2019s APIs, various projects have demonstrated the ability to displace Envoy as the default service proxy with the choice of an alternative.\"), mdx(\"div\", {\n    className: \"intro\"\n  }, mdx(\"h3\", {\n    align: \"center\"\n  }, \"Standardizing Data Plane APIs\"), mdx(\"p\", null, \"The xDS APIs are a collection of Envoy's APIs. The Universal Data Plane API (UDPA) working group attempts to create a set of APIs that will serve as the de facto standard for L4/L7 data plane configuration (similar to OpenFlow's role in SDN at L2/L3/L4). The Envoy xDS APIs are being evolved to address service discovery, load balancing assignments, routing discovery, listener configuration, secret discovery, load reporting, health check delegation, and more, in combination with a well-defined, stable API versioning policy.\")), mdx(\"p\", null, \"In early versions of Istio, Linkerd exhibited an integration in which Istio was the control plane, supplying configuration to Linkerd proxies.\\xA0 NGINX also hosted a project called nginMesh, in which Istio served as the control plane and NGINX proxies operated as the data plane.\"), mdx(\"p\", null, \"With many service proxies in the ecosystem, outside of Envoy, only two have currently demonstrated integration with Istio . Linkerd is not yet intended to be a general-purpose proxy; instead, it is focused on being lightweight, placing extensibility as a secondary concern by offering extensions via gRPC plug-in.\\xA0 Consul makes use of Envoy as a proxy. Why would you want to use another\\xA0service proxy?\"), mdx(\"strong\", null, \"NGINX\"), mdx(\"p\", null, \"While you won't be able to use NGINX as a proxy to replace Envoy, you could wish to employ NGINX based on your operational expertise, the necessity for a battle-tested proxy, or the integration of an F5 load balancer. You might also be looking for caching, a web application firewall (WAF), or other features in NGINX Plus. The service proxy used in the NGINX Service Mesh data plane is an enhanced version of NGINX Plus that interfaces natively with Kubernetes.\"), mdx(\"strong\", null, \"CPX\"), mdx(\"p\", null, \"If you already have Citrix Application Delivery Controllers and want to use them across your diverse infrastructure, you might choose to use the Citrix Service Mesh (which is an Istio control plane with a CPX data plane).With infrastructure diversity, holistic control, and monitoring for operational consistency across all your workloads (new microservices and existing monoliths).\"), mdx(\"strong\", null, \"MOSN\"), mdx(\"p\", null, \"MOSN can deploy as an Istio data plane. You might choose to deploy MOSN if you need to highly customize your service proxy and are a Golang shop. MOSN supports a multi-protocol framework, and you access private protocols with a unified routing framework. It has a multi-process plug-in mechanism, which can easily extend the plug-ins of independent MOSN processes through the plug-in framework, and do some other management, bypass and other functional module extensions.\"), mdx(\"div\", {\n    className: \"fact\"\n  }, \"You might find this article on \", mdx(\"a\", {\n    href: \"https://www.oreilly.com/content/how-to-customize-an-istio-service-mesh/\"\n  }, \"How to customize an Istio service mesh and its adjoining webcast\"), \" helpful in further understanding Istio\\u2019s extensibility with respect to swappable service proxies.\"), mdx(\"p\", null, \"Without configuration, proxies are without instructions to perform their tasks. Pilot is the head of the ship in an Istio mesh, keeping synchronized with the underlying platform by tracking and representing its services to istio-proxy. istio-proxy contains the proxy of choice (e.g. Envoy). Typically, the same istio-proxy Docker image is used by Istio sidecar and Istio ingress gateway, which contains not only the service proxy but also the Istio Pilot agent.  At regular intervals, the Istio Pilot agent pulls configuration from Pilot to the service proxy, so that each proxy knows where to route traffic.\"), mdx(\"div\", {\n    className: \"center\"\n  }, mdx(\"img\", {\n    src: Swappingproxy,\n    align: \"center\",\n    alt: \"Swapping Proxy\"\n  }), mdx(\"p\", null, \"Figure 1: Example of swapping proxies\\u2014Istio + nginMesh.\"))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Swappable Sidecars","subtitle":null,"date":"October 17th, 2021","author":null,"category":"Service Mesh","tags":["Service Mesh"],"description":null,"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRo4AAABXRUJQVlA4IIIAAADQBACdASoUABIAPtFapE0oJSMiKA1RABoJYwDJEywA2g3eJStczueWulM7gfhUgAD+8EhFDF8XrmRfXTXVSni42vS8Gdj0JTekggeGiW5kPw43A0QluVRALO2BHRhEXEyP6/L1M1JfV2mQSVkGx7DxcGs+b+DrJiGjMMfCpwGSAAAA"},"images":{"fallback":{"src":"/static/78e798081ea95d1107c53e978a86330d/3bb65/figure1.webp","srcSet":"/static/78e798081ea95d1107c53e978a86330d/236ee/figure1.webp 125w,\n/static/78e798081ea95d1107c53e978a86330d/82ebd/figure1.webp 250w,\n/static/78e798081ea95d1107c53e978a86330d/3bb65/figure1.webp 500w,\n/static/78e798081ea95d1107c53e978a86330d/94541/figure1.webp 1000w","sizes":"(min-width: 500px) 500px, 100vw"},"sources":[]},"width":500,"height":451}},"extension":"webp","publicURL":"/static/78e798081ea95d1107c53e978a86330d/figure1.webp"}},"fields":{"slug":"/resources/service-mesh/swappable-sidecars"}}},"pageContext":{"slug":"/resources/service-mesh/swappable-sidecars"}},"staticQueryHashes":["1485533831","3750885592","4047814605","4053865456"],"slicesMap":{},"matchPath":"/resources/service-mesh/swappable-sidecars"}